{
  "version": "1.0",
  "defaults": {
    "provider": "openai",
    "model": "gpt-4o-mini",
    "temperature": 0.0,
    "top_p": 1.0,
    "max_tokens": 1024,
    "frequency_penalty": 0.0,
    "presence_penalty": 0.0,
    "remove_null_properties": true
  },
  "prompts": {
    "extract_legislation_groq": {
      "id": "extract_legislation_groq",
      "title": "Extrair legislação (GROQ)",
      "description": "Extrai referências a legislação de um texto e devolve estrutura JSON compatível com o schema de legislação do projeto.",
      "enabled": true,
      "model": "gpt-4o-mini",
      "temperature": 0.0,
      "max_tokens": 1024,
      "stop": ["\n\n"],
      "prompt_template": "Leia o texto abaixo e retorne um JSON com as leis mencionadas. Remova quaisquer campos com valor null e não inclua propriedades não informadas.\n\nTexto:\n{{text}}\n\nFormato esperado: {\\"cD\\": { \\"nIlR\\": [ ... ] } }",
      "input_schema": {
        "type": "object",
        "properties": {
          "text": { "type": "string" }
        },
        "required": ["text"]
      },
      "output_schema_ref": "legislation_schema.json",
      "examples": [
        {
          "name": "exemplo-minimo",
          "input": { "text": "O caso faz referência à Constituição Federal, art. 5." },
          "expected_output": {
            "cD": { "nIlR": [{ "nI": "CF-1988", "jL": "federal", "nR": [{ "aN": 5, "iC": false }]}] }
          }
        }
      ],
      "postprocessing": {
        "remove_null_properties": true,
        "strip_unknown_properties": true
      },
      "metadata": {
        "tags": ["legislation", "extract", "groq"],
        "owner": "poc-v-d33"
      }
    },

    "summarize_case": {
      "id": "summarize_case",
      "title": "Resumo do Caso",
      "description": "Gera um resumo curto (3-5 linhas) e um resumo técnico (separado) a partir do conteúdo do processo.",
      "enabled": true,
      "model": "gpt-4o-mini",
      "temperature": 0.2,
      "max_tokens": 400,
      "prompt_template": "Dado o texto do processo, gere um resumo curto (máx. 3 frases) e um resumo técnico com tópicos relevantes.\n\nTexto:\n{{text}}\n\nSaída JSON: {\\"summary_short\\": string, \\"summary_technical\\": string}",
      "input_schema": { "type": "object", "properties": { "text": { "type": "string" } }, "required": ["text"] },
      "examples": [],
      "metadata": { "tags": ["summarize"], "owner": "poc-v-d33" }
    }
  },
  "templates": {
    "basic_system_prompt": "Você é um assistente que extrai informações legais de forma concisa e precisa. Responda apenas no formato JSON requisitado."
  }
}
