{% extends "base.html" %}
{% block content %}
  <section class="panel">
    <div class="panel-header">
      <h1>{{ detail_kind }}: {{ detail_value }}</h1>
      <span class="chip">Total de processos: {{ total }}</span>
    </div>
    <p class="panel-copy">
      Lista de processos que referenciam a citacao selecionada.
    </p>
    <div class="actions">
      <a class="secondary" href="{{ url_for('doutrina', **filter_params) }}">Voltar ao painel</a>
    </div>
  </section>

  <section class="panel">
    {% if cases %}
      <table>
        <thead>
          <tr>
            <th>Titulo do processo</th>
            <th>Data julgamento</th>
            <th>Orgao julgador</th>
            <th>Decisao final</th>
            <th>Voto</th>
            <th>Link</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cases %}
            <tr>
              <td>{{ item.case_title }}</td>
              <td>{{ item.judgment_date }}</td>
              <td>{{ item.judging_body }}</td>
              <td>{{ item.decision_final }}</td>
              <td>{{ item.vote_type }}</td>
              <td>
                {% if item.case_url %}
                  <a href="{{ item.case_url }}" target="_blank" rel="noopener">Abrir</a>
                {% else %}
                  -
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if show_more %}
        <div class="actions">
          <a
            class="secondary"
            href="{{ url_for('doutrina_detail', kind=detail_key, value=detail_value, limit=next_limit, **filter_params) }}"
          >
            Ver mais
          </a>
        </div>
      {% endif %}
    {% else %}
      <p class="empty">Nenhum processo encontrado para este filtro.</p>
    {% endif %}
  </section>
{% endblock %}
